let ethAddress,contract;function getJson(){return new Promise(e=>{$.getJSON("./PolygonForest.json",t=>{e(t)})})}function start(){window.location.href="forest"}const connect=async()=>{if(window.ethereum){await window.ethereum.send("eth_requestAccounts");let e=new Web3(window.ethereum);try{const t=await window.ethereum.request({method:"eth_accounts"});if(t.length>0){const n=await window.ethereum.request({method:"eth_chainId"}),o=await getJson();137==n?(contract=new e.eth.Contract(o.abi,"0xb290dc212bc126627ba4939f7e63c4db41a6ea90"),ethAddress=t[0],start(),window.ethereum.on("accountsChanged",e=>{ethAddress=e[0]}),window.ethereum.on("chainChanged",()=>{window.location.reload()})):alert("Please change your network to Polygon")}else alert("Please sign in to your wallet")}catch(e){alert("Something went wrong (Check console for details)",e)}}else alert("Please install metamask")};$(document).ready(()=>{$("#btn-connect").click(connect)});